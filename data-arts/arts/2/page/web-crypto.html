<h3>Задачи шифрования</h3>
<p>
    В общем случае, с помощью шифрования решаются следующие задачи:
<ul>
    <li>Конфиденциальность - скрытие информации от неавторизованных пользователей при передаче или при хранении.</li>
    <li>Целостность - предотвращение изменения информации при передаче или хранении.</li>
    <li>Идентифицируемость - аутентификация источника информации и предотвращение отказа отправителя информации
        от того факта, что данные были отправлены именно им.</li>
</ul>
</p>
<h3>Базовые понятия шифрования</h3>
<h4>Симметричные и ассиметричные схемы шифрования</h4>
<p>
    До открытия схем шифрования с открытым ключем (RSA) в 1977г. основной проблемой было передать ключ шифрования, который
    должен сохраняться в секрете, всем сторонам обмена секретной информацией.
</p>
<p>
    В <b>симметричных</b> схемах для шифрования и расшифрования используется один и тот же криптографический ключ. Ключ
    алгоритма должен сохраняться в секрете обеими сторонами - это главный недостаток симметричных схем. Ключ
    шифрования нельзя передавать по открытому каналу (то есть незащищённому, доступному для наблюдения).
</p>
<p>
    В <b>ассимитричных</b> схемах или криптографических системах с <b>открытым ключом</b>, используются два ключа, по одному из
    которых можно только шифровать информацию, а по другому только расшифровывать криптотекс. Открытый ключ (для шифрования)
    не является секретным и его передают по незащищенному каналу, а закрытый ключ для расшифровки хранят в тайне.
    Основной недостаток ассимитричных схем - сложность (ресурсоемкость) решаемой математической задачи подбора ключей
    и операций шифрования/расшифрования, также больший по объему криптотекс для предачи.
</p>
<p>
    В ассиметричных схемах часто используется алгоритм RSA (аббревиатура от фамилий Rivest, Shamir и Adleman) — криптографический
    алгоритм с открытым ключом, основывающийся на вычислительной сложности задачи факторизации больших целых чисел.
</p>
<h4>Хэш</h4>
От любой информации, буть то файл или строка данных, можно вычислить <b>хэш</b>, который может быть представлен ввиде
N-символьного (шестнадцатеричного) числа. Хэш обычно меньше исходной информации и часто используется для
проверки целостности (неизмененности) информации. При этом хэш-фунции должны удовлетворять следующим требованиям:
<ul>
    <li>Необратимость хэширования: достаточно просто вычилить хэш от исходных данных, но невозможно (за реальное время)
        решить задачу вычисления данных зная хэш</li>
    <li>Стойкость к коллизиям: нет может быть двух одинаковых хэш от разных входных данных (и обратное)</li>
</ul>
<h4>SSL и HTTPS</h4>
<p>
    В WEB задачи безопасного подключения решаются с помощью защищенных протоколов SSL (англ. Secure Sockets Layer —
    уровень защищённых cокетов) и HTTPS (аббр. от англ. HyperText Transfer Protocol Secure) SSL - протокол работает
    на сеансовом уровне, который расположен между транспортным TCP/IP и прикладным HTTP уровнями согласно стандарту
    модели стека сетевых протоколов ISO/OSI. Именно на сеансовом уровне SSL происходит генерация и проверка ключей,
    шифрование и расшифрование данных, в то время как HTTPS - это обычный протокол HTTP расположенный поверх
    SSL и использующий порт 443.
</p>
<h5>SSL-сертификаты</h5>
<p>
    Протокол SSL использует сертификаты сервера (сайта) для аутентификации. Сертификат содержит закрытый и
    открытый ключи шифрования и дополнительные данные (кем и кому выдан, назначение, сроки действия сертификата,
    <b>путь сертификации</b> и др.).
</p>
<p>
    Сертификаты защищают пользовать и от атак <b>человек по середине</b>, когда по злоумышленник может выдавать себя за
    ресурс (сервер) и подсунуть клиенту свой сертификат. Для защиты от подобных атак в дело вступает третья сторона,
    которой доверяют обе стороны обмена секретной информацией -
    центр сертификации. Браузеры уже содержат информацию о доверенных корневых центрах сертификации и если ваш
    сертификат выдан одним из них (или его дочкой имеющей право выдачи сертификатов), легко проверить путь
    сертификации и убедиться принадлежности открытого ключа шифрования запрашиваему серверу.
</p>
<p>
    Сертификат можно изготовить и установить на сервер самостоятельно <b>самоподписанный сертификат</b>, но в таком
    случае он не будет содержать пути сертификации и браузер покажет что ваш сайт не является безопасным, хотя функции
    шифрования/расшифрования при этому будут рабоать как обычно.
</p>
<h3>Стандарты шифрования. Стойкость алгоритмов SSL</h3>
<p>
    В настоящее время алгоритмы шифрования хорошо изучены, описаны спецификациями и стандартизирования <b>RFC</b>.
</p>
<p>
    Пока недоказано существование необратимых функции шифрования на основе ассимитричных алгоритмов и хэширования,
    задача расшифровки шифротекста является лишь вычислительно сложной задачей. Для алгоритмов RSA можно рассматривать
    только ключи длинной 1024 бита и более. С 31 декабря 2013 года браузеры Mozilla перестали
    поддерживать сертификаты удостоверяющих центров с ключами RSA меньше 2048 бит.
</p>
<h3>Реализация крипто-алгоритмов в Linux и Windows</h3>
<p>
    На Linux наиболее распространённая реализация SSL — криптографический пакет с открытым исходным кодом OpenSSL,
    основанный на SSLeay, написанной Эриком Янгом. Пакет предназначен для создания и управления различного рода
    сертификатами. Также в его состав входит библиотека для поддержки SSL различными программами.
    Библиотека используется, например, модулем SSL в распространенном HTTP-сервере Apache.
</p>
<p>
    В Windows - системах изготовить самоподписанный ssl-сертификат можно с помощью power shall, но поскольку в
    такие сертификаты не имеют доверенных издателей, пользы от их применения на реальных сайтах в интернет в принципе
    нет, и не имеет смысла вникать процесс их изготовления.
</p>
<p>
    Браузеры могут использовать свои криптографические библиотеки, которые не являются откурытыми, в отличие от Open SSL
    и могут быть защищены авторскими правами
<ul>
    <li>Google Chrome on Android uses OpenSSL</li>
    <li>NSS (for all firefox and chrome in Linux)</li>
    <li>SChannel (for browsers in Windows)</li>
    <li>Secure Transport (for browsers in Mac OS X)</li>
</ul>
</p>
<p>
    Создать самоподписанный сер
</p>
<!--
-->

<!--
HTTPS (аббр. от англ. HyperText Transfer Protocol Secure) — расширение протокола HTTP для поддержки шифрования в целях повышения
безопасности. Данные в протоколе HTTPS передаются поверх криптографических протоколов SSL или TLS. В отличие от HTTP с TCP-портом 80,
для HTTPS по умолчанию используется TCP-порт 443.[1]
Протокол был разработан компанией Netscape Communications для браузера Netscape Navigator в 1994 году[2].
-->





<h3>Упрощенная схема https соединения</h3>
<p>
    В web для работы с защищенными соединениями ассиметричное шифрование используется для выработки секретного
    симметричного сессионного ключа, т. е. применяются обе схемы шифрования.
</p>
Не углуюбляясь в подровности установки защащенного соединения, процесс рукопожатий, параметры выработки ключей
 и алгоритмов шифрования рассмотрим простую схему https-подлючючения (ваш ПК подключается к этому сайту):
<ul>
    <li>Ваш ПК отправляет запрос на сервер для получения страницы https://rightjoint.ru</li>
    <li>rightjoint.ru отправляет вам сертификат содержащий открытый ключ и информацию о владельце</li>
    <li>Ваш ПК проверяет открытый ключ</li>
    <li>Ваш ПК вырабатывает сессионный ключ симметричного шифрования и шифорует его открытым ключем и отправляет на
        сервер rightjoint.ru</li>
    <li>Сервер расшифровывает информацию и далее уже используется симметричное шифрование</li>

</ul>
<h3>Правила шифрования данных пользователя</h3>
<p>
    Из данных пользователя на вашем сайте, если такие могут быть украдены, шифровать следует как мимимум пароли.
    Обычно храниться не сам пароль, а хэш и криптографическая соль. Пароли пользователей могут быть одинаковыми,
    следовательно совпадет и хэш от них. По-этому вычисляют не хэш от пароля, а хэш от пароля с криптографической
    солью. В качестве соли могут быть использованы какие-нибудь случайные данные.

</p>

<h3>Выводы:</h3>
<p>
    В настоящее время идет тенденция к тому, что все сайты в интернет должны быть безопасными. Более того, ни
    один серьезный ресурс не станет передавать небезопасно на ваш сервер личные данные клиентов (ФИО, паспортные
    данные, банковские реквизиты, логины и пароли и т.п.)
</p>
<p>
    Для передачи конфиценциальной информации необходимо использовать безопасные https-соединения. Только в таком
    случае вы можете быть уверены что данные не будут расшифрованы даже при ререхвате их злоумышленниками.
</p>
<p>
    Предпочтительно использовать безопасные https-соединения и ssl-сертификаты выданные специальными центрами
    сертификации.
</p>